<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Stezky tukanů – pomocník</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
<header class="topbar">
  <h1>Stezky tukanů – pomocník</h1>

  <!-- Hamburger -->
  <button id="menuToggle" class="hamburger" aria-haspopup="true" aria-expanded="false" aria-controls="menuPanel" title="Menu">
    ☰
  </button>

  <!-- Dropdown menu -->
  <nav id="menuPanel" class="menu" hidden>
    <div class="menu-sec">
      <h3>Zobrazit moduly</h3>
      <label class="chk"><input type="checkbox" id="modDeck" checked> Balíček terénů</label>
      <label class="chk"><input type="checkbox" id="modBonus" checked> Zvláštní bonus</label>
      <label class="chk"><input type="checkbox" id="modLayout"> Rozložení měst</label>
    </div>

    <div class="menu-sec">
      <h3>Nastavení &amp; seed</h3>
      <label class="stack">
        <span>Seed:</span>
        <input id="seedInput" type="text" placeholder="např. tucana-2025" />
      </label>
      <div class="btn-row">
        <button id="applySeed">Použít seed</button>
        <button id="randomSeed" class="secondary">Náhodný seed</button>
      </div>
      <p class="hint">Seed = reprodukovatelné míchání a rozlosování.</p>
        <label class="stack" style="margin-top:10px;">
            <span>Počet hráčů (2–8):</span>
            <input id="playersInput" type="number" min="2" max="8" value="4" />
        </label>
       <p class="hint">Při 5–8 hráčích se u měst zpřístupní i bonus pro 2. hráče.</p>
    </div>
  </nav>
</header>

<main>
  <!-- Balíček terénů -->
  <section class="card deck" data-module="deck" id="deckSection">
    <div class="header-row">
      <h2>Balíček terénů</h2>
      <div class="round-info">
        <span id="turnLabel">Tah: 0</span>
        <span id="leftLabel">Zbývá karet: 27</span>
      </div>
    </div>

    <div class="draw-area">
      <div class="last-draw">
        <div class="cardface" id="cardA" data-type="none"><span>—</span></div>
        <div class="plus">+</div>
        <div class="cardface" id="cardB" data-type="none"><span>—</span></div>
      </div>
      <div class="btn-row">
        <button id="drawTwo">Otočit 2 karty</button>
        <button id="undo" class="secondary">Zpět (undo)</button>
        <button id="newRound" class="danger">Nové kolo</button>
      </div>
      <p id="deckMessage" class="msg"></p>
    </div>

    <div class="counts">
      <div class="count" data-type="desert">Poušť: <b id="cnt-desert">8</b></div>
      <div class="count" data-type="forest">Les: <b id="cnt-forest">7</b></div>
      <div class="count" data-type="mountain">Hora: <b id="cnt-mountain">6</b></div>
      <div class="count" data-type="water">Voda: <b id="cnt-water">4</b></div>
      <div class="count" data-type="joker">Žolík: <b id="cnt-joker">2</b></div>
    </div>

    <details>
      <summary>Historie tahů</summary>
      <ol id="history"></ol>
    </details>
  </section>

  <!-- Rozložení měst -->
  <section class="card layout" data-module="layout" id="layoutSection" hidden>
    <h2>Rozložení měst (A–E, každé 2×, bez sousedních shod)</h2>
    <div class="btn-row">
      <button id="genLayout">Vylosovat rozložení</button>
      <label>Posun pro hráče:
        <input id="layoutOffset" type="number" min="0" max="9" value="0" />
      </label>
      <button id="applyOffset" class="secondary">Aplikovat posun</button>
      <button id="copyLayout" class="secondary">Kopírovat jako text</button>
    </div>
    <div id="layoutVis" class="layout-vis" aria-live="polite"></div>
  </section>

  <!-- Zvláštní bonus -->
<section class="card bonus" data-module="bonus" id="bonusSection">
  <h2>Bonusy</h2>

  <!-- Bonusy z mapy (Atrakce / Města) -->
  <div class="map-bonuses">
    <div class="btn-row">
      <button id="resetMapBonuses" class="secondary">Reset bonusů</button>
    </div>
    <div id="bonusGrid" class="bonus-grid" aria-live="polite"></div>
  </div>

  <hr class="sep" />

  <!-- Zvláštní bonus (červená karta) – zůstává zachováno -->
  <h3 class="subhead">Zvláštní bonus (červená karta)</h3>
  <div class="btn-row">
    <button id="drawRedBonus">Vylosovat 1 bonus</button>
  </div>
  <div id="redBonusArea" class="bonus-area">
    <div class="bonus-card placeholder" id="redBonusCard">
      <img id="redBonusImg" alt="Zvláštní bonus" />
      <div id="redBonusLabel">—</div>
    </div>
  </div>
</section>

</main>

<footer>
  <p class="muted">Verze pro GitHub Pages.</p>
</footer>

<script type="module" src="js/main.js"></script>
</body>
</html>
